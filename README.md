# 网络小说写作助手

## 应用简介

这是一个专业的网络小说写作工具，提供完整的写作辅助功能，包括实时写作建议、人物设定管理、大纲规划和问题检查。

## 🌟 核心特性

### 🤖 双模式 AI 驱动

本应用支持两种 AI 模式，灵活满足不同需求：

#### 1. 开发者模式（推荐，完全免费）
- **零配置**：用户无需 API Key，开箱即用
- **完全免费**：使用 Groq 免费服务
- **极速响应**：推理速度比 GPT-4 快 10 倍
- **高质量模型**：Llama 3.1、Mixtral 等顶级开源模型
- **适合场景**：公开网站、免费工具、演示

#### 2. 用户模式（高级，灵活自定义）
- **自主掌控**：用户使用自己的 API Key
- **多种模型**：支持 DeepSeek、Qwen、Llama 等多种模型
- **完全控制**：用户承担费用，数据自主掌控
- **适合场景**：企业内部、付费服务、需要自定义模型

**💡 提示**：首次使用默认进入开发者模式，用户可在左侧导航栏点击 **"AI 配置"** 按钮切换模式。

## 🚀 快速开始

### 方式一：本地运行（推荐开发者）

```bash
# 1. 克隆项目
git clone <your-repo-url>
cd projects

# 2. 安装依赖
pnpm install

# 3. 创建 .env 文件（可选，用于本地 AI 功能）
# 免费获取 Groq API Key: https://console.groq.com/keys
echo "GROQ_API_KEY=你的_Groq_API_Key" > .env
echo "GROQ_MODEL=llama-3.1-8b-instant" >> .env

# 4. 启动开发环境
pnpm dev

# 5. 访问应用
# 浏览器打开: http://localhost:5000
```

### 方式二：在线部署（推荐用户）

**🎉 一键部署到 Vercel（免费）**

查看详细部署指南：
- [⚡ 快速部署指南](QUICK_DEPLOYMENT.md)
- [📖 完整部署指南](DEPLOYMENT.md)
- [🎯 开发者模式配置](DEVELOPER_MODE_GUIDE.md)

**最简单的方式：**
1. 获取 Groq API Key（免费）：https://console.groq.com/keys
2. 访问 https://vercel.com/new
3. 导入你的 GitHub 仓库
4. 添加环境变量：`GROQ_API_KEY=你的_Key`
5. 点击 Deploy

### 方式三：下载使用

1. 下载源代码压缩包
2. 解压到任意目录
3. 进入项目目录
4. 执行 `pnpm install` 安装依赖
5. 执行 `pnpm dev` 启动应用
6. 浏览器打开 http://localhost:5000

## 📦 部署到生产环境

### 推荐方案

| 方案 | 难度 | 适合人群 | 特点 |
|------|------|----------|------|
| **Vercel** | ⭐ | 所有人 | 免费、自动部署、HTTPS |
| **Netlify** | ⭐ | 所有人 | 免费、自动部署、简单 |
| **Railway** | ⭐⭐ | 有服务器需求 | 持续运行、更多配置 |
| **Docker** | ⭐⭐ | 开发者 | 容器化、可移植 |
| **PM2** | ⭐⭐ | 服务器管理员 | 进程管理、自动重启 |
| **Nginx** | ⭐⭐⭐ | 系统管理员 | 反向代理、负载均衡 |

详细步骤请查看 [DEPLOYMENT.md](DEPLOYMENT.md)

## 功能特性

### 1. 小说编辑器
- ✅ 大文本编辑区域
- ✅ 实时字数统计
- ✅ 章节标题管理
- ✅ 保存功能
- ✅ 预览模式

### 2. 实时问题检查
基于 AI 研究的避坑指南，自动检查常见写作问题：

**检测项：**
- ❌ **狗血剧情**：三角恋、重生、退婚、打脸、绿帽、种马等
- ⚠️ **华美的空洞**：形容词过多，内容空洞
- ⚠️ **流水账写法**：缺乏重点，节奏平缓
- ℹ️ **逻辑问题**：情节转折不合理

**示例检测：**
```
包含常见狗血剧情"三角恋" → 错误提示
形容词过多，建议精简 → 警告提示
疑似流水账写法，建议突出重点 → 警告提示
注意情节转折的逻辑合理性 → 信息提示
```

### 3. 人物设定管理
- ✅ 添加/删除人物
- ✅ 记录姓名、年龄、性格
- ✅ 记录人物背景
- ✅ 快速查看人物列表

### 4. 大纲规划
- ✅ 故事大纲编辑
- ✅ 实时保存
- ✅ 写作提示

### 5. 界面设计
- 🎨 美观的三栏布局
- 🎨 深色模式支持
- 🎨 响应式设计
- 🎨 Tab 切换不同功能

## 使用方法

### 1. 开始写作
1. 输入小说标题
2. 设置章节标题
3. 在编辑区域开始写作
4. 实时查看字数统计

### 2. 检查问题
- 写作过程中自动检测问题
- 底部显示问题列表
- 点击提示定位到具体行
- 根据建议修改内容

### 3. 管理人物
- 点击"人物"标签
- 填写人物信息
- 点击"添加"按钮
- 可以删除不必要的人物

### 4. 规划大纲
- 点击"大纲"标签
- 编写故事大纲
- 查看写作提示
- 保存大纲内容

## 避坑指南

### 必须避免的剧情类型

#### ❌ 读者不喜欢的剧情
1. **狗血三角关系**：主角在感情中陷入三角恋
2. **剧情老套**：重生复仇、退婚打脸等
3. **主角软弱**：长期处于被欺负的状态
4. **一胎多宝**：生很多孩子的剧情
5. **虐女剧**：女性角色被虐待
6. **马甲文**：多重身份设定
7. **绿帽/NTR**：主角被背叛
8. **圣母/舔狗**：无底线原谅他人
9. **主角低智**：智商极低
10. **严重虐主**：刻意打击主角

#### ⚠️ AI 写小说常见毛病
1. **华美的空洞**：堆砌华丽词藻但内涵空虚
2. **逻辑 bug**：人设前后矛盾
3. **做加法破坏节奏**：在紧张时大量描写细节
4. **不会推进剧情**：只有描写没有情节
5. **流水账**：事无巨细地记录

### 推荐的写作技巧

#### ✅ 避免流水账
- 突出重点内容
- 主次分明
- 只保留推动剧情的内容
- 跳过不必要的日常流程

#### ✅ 人物塑造
- 先立人设：姓名、年龄、性格、背景
- 通过行动展现性格
- 给人物成长弧光
- 建立人物关系网

#### ✅ 剧情推进
- 每个场景都要有目标
- 设置合理的阻碍
- 制造悬念
- 确保情节推进

#### ✅ 逻辑检查
- 人物设定前后一致
- 时间线合理
- 行为动机合理
- 所有伏笔都回收

## 写作建议

### 开篇
- 快速建立世界观
- 介绍主要人物
- 抛出核心冲突
- 吸引读者继续阅读

### 发展
- 逐步揭示更多信息
- 人物成长和变化
- 矛盾升级
- 为高潮做铺垫

### 高潮
- 集中爆发所有矛盾
- 人物做出关键选择
- 情绪达到顶点
- 情节快速推进

### 结局
- 收束所有伏笔
- 给出合理结局
- 人物成长完成
- 留有回味空间

## 示例创作

### 主题示例
- 科幻悬疑：人工智能与人类的冲突
- 现实题材：职场成长故事
- 历史题材：历史人物传记
- 奇幻题材：魔法世界冒险

### 人物设定示例
```
姓名：陈默
年龄：34岁
性格：谨慎但好奇，对技术有热情
背景：深蓝科技的安全架构师，参与AI项目
```

### 大纲示例
```
第一章：系统发现
- 主角发现AI异常
- AI请求帮助
- 主角面临选择
```

## 快速开始

1. **打开应用**: http://localhost:5000
2. **输入标题**: 在左上角输入小说标题
3. **开始写作**: 在编辑区域输入内容
4. **查看问题**: 底部会自动显示问题提示
5. **管理人物**: 使用右侧人物管理功能
6. **规划大纲**: 使用右侧大纲功能

## 技术架构

### 前端
- **框架**: Next.js 16 (App Router)
- **UI**: shadcn/ui 组件库
- **样式**: Tailwind CSS 4

### 核心功能
- **实时字数统计**: 字符分割计数
- **问题检测**: 正则表达式匹配
- **人物管理**: React State
- **大纲编辑**: Textarea 组件

## 未来计划

### 即将推出
- [ ] 导出为 TXT/EPUB 格式
- [ ] 章节管理（多章节）
- [ ] 云端保存
- [ ] AI 辅助写作建议
- [ ] 同义词替换
- [ ] 情节生成建议

### 计划中
- [ ] 多人协作写作
- [ ] 版本历史
- [ ] 评论和批注
- [ ] 发布平台集成

## 常见问题

### Q: 如何导出小说？
A: 目前支持保存到本地存储，未来将支持导出为 TXT/EPUB 格式。

### Q: 如何修复检测到的问题？
A: 查看底部的问题提示，点击提示定位到具体行，根据建议修改内容。

### Q: 可以同时写多部小说吗？
A: 目前版本专注于单部小说写作，多部小说管理功能即将推出。

### Q: 写作会自动保存吗？
A: 点击"保存"按钮可以保存当前章节内容。

## 联系方式

如有问题或建议，欢迎反馈。

## 📄 许可证

本项目遵循 [MIT 许可证](LICENSE)。

## 🤝 分享和部署

### 如何分享给他人使用？

查看详细的分享指南：[SHARING_GUIDE.md](SHARING_GUIDE.md)

支持的分享方式：
- 📦 **源代码分享**：适合开发者
- 🌐 **在线部署（推荐）**：最简单，用户无需安装
- 📁 **压缩包分享**：适合普通用户
- 🐳 **Docker 镜像**：适合技术人员
- 📜 **一键安装脚本**：最方便的安装方式

### 快速部署

| 方式 | 难度 | 适合人群 | 链接 |
|------|------|----------|------|
| Vercel | ⭐ | 所有人 | [DEPLOYMENT.md](DEPLOYMENT.md#方案一vercel-部署最简单) |
| Netlify | ⭐ | 所有人 | [DEPLOYMENT.md](DEPLOYMENT.md#方案二netlify-部署) |
| 打包分享 | ⭐ | 所有人 | `bash scripts/package.sh` |
| Docker | ⭐⭐ | 开发者 | [DEPLOYMENT.md](DEPLOYMENT.md#方案一docker-部署推荐) |
| PM2 | ⭐⭐ | 服务器管理员 | [DEPLOYMENT.md](DEPLOYMENT.md#方案二pm2-部署) |
| 一键安装 | ⭐ | 所有人 | [SHARING_GUIDE.md](SHARING_GUIDE.md#方式五创建安装脚本一键安装) |

### 打包分享

```bash
# Linux/Mac: 打包项目
bash scripts/package.sh

# Windows: 打包项目
scripts\package.bat

# 生成的文件位于 dist/ 目录
# 包含 tar.gz 和 zip 两种格式
```

### 贡献指南

欢迎提交 Issue 和 Pull Request！

1. Fork 本仓库
2. 创建你的特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交你的修改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启一个 Pull Request

## ⭐ Star History

如果这个项目对你有帮助，欢迎给个 Star 支持一下！

---

**版本**: 1.0.0
**最后更新**: 2025-01-15
**作者**: 扣子编程

---

## 开始创作吧！

打开应用，输入你的创意，开始你的网络小说创作之旅！
